{
  "rewrites": [
    { 
      "source": "/(.*)", 
      "has": [
        {
          "type": "method", 
          "value": "OPTIONS"
        }
      ],
      "destination": "/api/cors-options.js"
    },
    { "source": "/api/tests", "destination": "/api/tests.js" },
    { "source": "/api/tests/(.*)", "destination": "/api/tests/[id].js?id=$1" }
  ],
  "functions": {
    "api/tests.js": {
      "memory": 1024,
      "maxDuration": 10
    },
    "api/cors-options.js": {
      "memory": 128,
      "maxDuration": 1
    }
  }
}